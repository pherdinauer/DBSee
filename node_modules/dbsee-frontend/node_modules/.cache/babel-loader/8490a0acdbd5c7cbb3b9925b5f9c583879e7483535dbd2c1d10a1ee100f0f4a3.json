{"ast":null,"code":"export const debugAuth = {\n  logTokenState: () => {\n    const token = localStorage.getItem('access_token');\n    console.log('üîç Debug Auth State:');\n    console.log('  Token exists:', !!token);\n    console.log('  Token value:', token ? `${token.substring(0, 20)}...` : 'null');\n    console.log('  Token length:', (token === null || token === void 0 ? void 0 : token.length) || 0);\n    return {\n      hasToken: !!token,\n      tokenLength: (token === null || token === void 0 ? void 0 : token.length) || 0,\n      tokenPreview: token ? `${token.substring(0, 20)}...` : null\n    };\n  },\n  clearStorage: () => {\n    localStorage.removeItem('access_token');\n    console.log('üßπ Cleared auth storage');\n  },\n  testLogin: async () => {\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/v1/auth/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: 'admin',\n          password: 'admin123'\n        })\n      });\n      const data = await response.json();\n      console.log('üß™ Direct login test result:', data);\n      if (data.access_token) {\n        localStorage.setItem('access_token', data.access_token);\n        console.log('‚úÖ Token saved to localStorage');\n      }\n      return data;\n    } catch (error) {\n      console.error('‚ùå Direct login test failed:', error);\n      throw error;\n    }\n  },\n  testCurrentUser: async () => {\n    const token = localStorage.getItem('access_token');\n    if (!token) {\n      console.log('‚ùå No token for current user test');\n      return null;\n    }\n    try {\n      const response = await fetch('http://127.0.0.1:8000/api/v1/auth/me', {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      });\n      const data = await response.json();\n      console.log('üë§ Current user test result:', data);\n      return data;\n    } catch (error) {\n      console.error('‚ùå Current user test failed:', error);\n      throw error;\n    }\n  }\n};\n\n// Make it available globally for debugging\nif (typeof window !== 'undefined') {\n  window.debugAuth = debugAuth;\n}","map":{"version":3,"names":["debugAuth","logTokenState","token","localStorage","getItem","console","log","substring","length","hasToken","tokenLength","tokenPreview","clearStorage","removeItem","testLogin","response","fetch","method","headers","body","JSON","stringify","username","password","data","json","access_token","setItem","error","testCurrentUser","window"],"sources":["C:/Users/desiderato/Documents/DBSee/frontend/src/utils/debugAuth.ts"],"sourcesContent":["export const debugAuth = {\r\n  logTokenState: () => {\r\n    const token = localStorage.getItem('access_token');\r\n    console.log('üîç Debug Auth State:');\r\n    console.log('  Token exists:', !!token);\r\n    console.log('  Token value:', token ? `${token.substring(0, 20)}...` : 'null');\r\n    console.log('  Token length:', token?.length || 0);\r\n    \r\n    return {\r\n      hasToken: !!token,\r\n      tokenLength: token?.length || 0,\r\n      tokenPreview: token ? `${token.substring(0, 20)}...` : null\r\n    };\r\n  },\r\n\r\n  clearStorage: () => {\r\n    localStorage.removeItem('access_token');\r\n    console.log('üßπ Cleared auth storage');\r\n  },\r\n\r\n  testLogin: async () => {\r\n    try {\r\n      const response = await fetch('http://127.0.0.1:8000/api/v1/auth/login', {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          username: 'admin',\r\n          password: 'admin123'\r\n        })\r\n      });\r\n\r\n      const data = await response.json();\r\n      console.log('üß™ Direct login test result:', data);\r\n      \r\n      if (data.access_token) {\r\n        localStorage.setItem('access_token', data.access_token);\r\n        console.log('‚úÖ Token saved to localStorage');\r\n      }\r\n      \r\n      return data;\r\n    } catch (error) {\r\n      console.error('‚ùå Direct login test failed:', error);\r\n      throw error;\r\n    }\r\n  },\r\n\r\n  testCurrentUser: async () => {\r\n    const token = localStorage.getItem('access_token');\r\n    \r\n    if (!token) {\r\n      console.log('‚ùå No token for current user test');\r\n      return null;\r\n    }\r\n\r\n    try {\r\n      const response = await fetch('http://127.0.0.1:8000/api/v1/auth/me', {\r\n        headers: {\r\n          'Authorization': `Bearer ${token}`\r\n        }\r\n      });\r\n\r\n      const data = await response.json();\r\n      console.log('üë§ Current user test result:', data);\r\n      return data;\r\n    } catch (error) {\r\n      console.error('‚ùå Current user test failed:', error);\r\n      throw error;\r\n    }\r\n  }\r\n};\r\n\r\n// Make it available globally for debugging\r\nif (typeof window !== 'undefined') {\r\n  (window as any).debugAuth = debugAuth;\r\n} "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}